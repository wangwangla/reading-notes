# 检查方法有效性

绝大多数方法和构造器对于传入的参数有限制，索引必须是非负，对象不为null，方法中进行检查，强制的执行这个限制。

## 不这么做的结果

- 会出现错误的结果
- 会在执行过程中出现问题。

## 做法

- 一般地在文档中也需要将其标记出来。
- 对于未导出的方法，作为包的创建者，可以控制方法将在哪里会调用，也可以保证只将有效的参数传递。
- 私有方法可以使用断言

```java
上面一句的理解就是
if(符合传入的条件){
    //执行相应的代码
}
```

对于非共有方法的处理方法,可以使用断言进行处理。如果断言失败就会抛出异常。

```java
// Private helper function for a recursive sort
private static void sort(long a[], int offset, int length) {
    assert a != null;
    assert offset >= 0 && offset <= a.length;
    assert length >= 0 && length <= a.length - offset;
    ... // Do the computation
}
```

这个方式，不会产生额外的开销。有的参数方法本身没有用到，但是在之后会进行使用，这类的检测更加重要。

## 特殊情况

在代码执行之前检测并不是一值正确的，那就是检测的时候是非常昂贵的，

## 结论

对于参数的任何限制都是好事，在设计时，尽可能的通用，如果接受的参数可以合理的解决问题，那么参数的限制应该越少越好。
写方法的时候，将限制写成文档非常重要，并且显示的显示出来。
