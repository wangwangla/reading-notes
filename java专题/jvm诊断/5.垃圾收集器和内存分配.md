# 垃圾回收和内存分配

垃圾回收器不止一种，什么时候使用哪一种，性能有啥影响

- java虚拟机支持的垃圾收集器种类
- 串行垃圾收集器
- 并行垃圾收集器
- CMS
- G1

## 串行收集器

指的是单线程收集器，每次回收只有一个线程执行，对于并行弱的计算机有好的性能。可以使用在新生代和老年代，这个分为新生代串行和老年代串行。

### 新生代串行

串行收集器是最古老的收集器的一种，也是最基本的jdk垃圾收集器之一。
- 它仅仅使用单线程进行垃圾回收。
- 它是独占的垃圾回收

串行收集时，程序线程都需要停下，等待垃圾回收完成。

它是经历了环境考验的收集器，新生代串行收集器使用的时复制算法，实现简单、逻辑处理特别高效，没有切换线程开销。使用在单cpu处理器硬件不是很优越的场合，可以超过并行和并发。

-XX:+UseSerialGC指定可以使用的新生代串行收集器和老年代串行收集器

client模式下，它是默认的垃圾收集器。

### 老年代串行收集器

串行收集器使用的时压缩算法，它是串行的、独占式的垃圾回收器，之前说过空间越大，垃圾回收使用的时间就越长，老年代回收会发生长的时间

老年代串行回收器可以与多种新生代的配合使用

-XX:+UseSeralGC :都使用串行收集器
-XX:+UseParNewGC:新生代ParNew 老年代：串行
-XX:+UseParallelGC:新生代Parallel,老年代串行收集器

## 并行收集器

